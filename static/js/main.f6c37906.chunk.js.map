{"version":3,"sources":["components/NotFound/NotFound.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/services/Pixabay-api.js","components/Loader/Loader.js","components/Button/Button.js","components/Modal/Modal.js","components/NotFound/NotFound.js","App.js","index.js"],"names":["module","exports","Searchbar","onSubmit","useState","request","setRequest","className","event","preventDefault","type","autoComplete","autoFocus","placeholder","value","onChange","currentTarget","toLowerCase","propsType","PropTypes","func","isRequired","ImageGalleryItem","id","tag","pic","onClick","src","alt","webformatURL","string","tags","key","number","ImageGallery","pics","onClickForModal","map","arrayOf","api","fetchPictures","page","fetch","then","response","json","LoaderPics","color","height","width","timeout","Component","Button","modalRoot","document","querySelector","Modal","onClose","useEffect","window","addEventListener","handleKeyDown","removeEventListener","e","code","createPortal","target","NotFound","s","App","setPics","picForModal","setpicForModal","setPage","isLoading","setIsLoading","isError","setIsError","showModal","setShowModal","fetchPic","picsAPI","res","total","hits","largeImageURL","state","scrollTo","top","documentElement","scrollHeight","behavior","catch","error","finally","onModalToggle","length","find","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.f6c37906.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"NotFound\":\"NotFound_NotFound__2Z99t\"};","import { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport '../styles.css';\r\n\r\nfunction Searchbar({ onSubmit }) {\r\n  const [request, setRequest] = useState('');\r\n\r\n  const handleNameChange = event => {\r\n    setRequest(event.currentTarget.value.toLowerCase());\r\n  };\r\n\r\n  const handleSubmit = event => {\r\n    event.preventDefault();\r\n    onSubmit(request);\r\n  };\r\n\r\n  return (\r\n    <header className=\"Searchbar\">\r\n      <form className=\"SearchForm\" onSubmit={handleSubmit}>\r\n        <button type=\"submit\" className=\"SearchForm-button\">\r\n          <span className=\"SearchForm-button-label\">Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className=\"SearchForm-input\"\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          value={request}\r\n          onChange={handleNameChange}\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n}\r\n\r\nSearchbar.propsType = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\nexport default Searchbar;\r\n","import PropTypes from 'prop-types';\r\n\r\nexport default function ImageGalleryItem({ id, tag, pic, onClick }) {\r\n  return (\r\n    <li className=\"ImageGalleryItem\">\r\n      <img\r\n        id={id}\r\n        src={pic}\r\n        alt={tag}\r\n        className=\"ImageGalleryItem-image\"\r\n        onClick={() => onClick(id)}\r\n      />\r\n    </li>\r\n  );\r\n}\r\n\r\nImageGalleryItem.propsType = {\r\n  webformatURL: PropTypes.string.isRequired,\r\n  tags: PropTypes.string.isRequired,\r\n  key: PropTypes.number.isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n","import PropTypes from 'prop-types';\r\nimport ImageGalleryItem from '../ImageGalleryItem';\r\n\r\nconst ImageGallery = ({ pics, tag, onClickForModal }) => {\r\n  return (\r\n    <ul className=\"ImageGallery\">\r\n      {pics.map(({ id, webformatURL }) => (\r\n        <ImageGalleryItem\r\n          key={id}\r\n          id={id}\r\n          tag={tag}\r\n          pic={webformatURL}\r\n          onClick={onClickForModal}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nImageGallery.propsType = {\r\n  request: PropTypes.string.isRequired,\r\n  id: PropTypes.arrayOf(PropTypes.number.isRequired),\r\n  webformatURL: PropTypes.arrayOf(PropTypes.string.isRequired),\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","function fetchPictures(request, page) {\r\n  return fetch(\r\n    `https://pixabay.com/api/?q=${request}&page=${page}&key=23343494-643d22eb41994b430f7c237c0&image_type=photo&orientation=horizontal&per_page=12`,\r\n  ).then(response => response.json());\r\n}\r\n\r\nconst api = {\r\n  fetchPictures,\r\n};\r\n\r\nexport default api;\r\n","import Loader from 'react-loader-spinner';\r\nimport { Component } from 'react';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nexport default class LoaderPics extends Component {\r\n  render() {\r\n    return (\r\n      <Loader\r\n        type=\"Puff\"\r\n        color=\"#00BFFF\"\r\n        height={100}\r\n        width={100}\r\n        timeout={3000} //3 secs\r\n      />\r\n    );\r\n  }\r\n}\r\n","import PropTypes from 'prop-types';\r\n\r\nconst Button = ({ onClick }) => {\r\n  return (\r\n    <button type=\"button\" className=\"Button\" onClick={onClick}>\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import { useEffect } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default function Modal({ pic, tag, onClose }) {\r\n  useEffect(() => {\r\n    window.addEventListener('keydown', handleKeyDown);\r\n    return function cleanup() {\r\n      window.removeEventListener('keydown', handleKeyDown);\r\n    };\r\n  });\r\n\r\n  const handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  const handleBackdropClick = event => {\r\n    if (event.currentTarget === event.target) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  return createPortal(\r\n    <div className=\"Overlay\" onClick={handleBackdropClick}>\r\n      <div className=\"Modal\">\r\n        <img src={pic} alt={tag} />\r\n      </div>\r\n    </div>,\r\n\r\n    modalRoot,\r\n  );\r\n}\r\n\r\nModal.propTypes = {\r\n  dataForMadal: PropTypes.shape({\r\n    largeImageURL: PropTypes.string.isRequired,\r\n    tags: PropTypes.string,\r\n  }),\r\n  onClose: PropTypes.func.isRequired,\r\n};\r\n","import PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport s from './NotFound.module.css';\r\n\r\nexport default function NotFound({ request }) {\r\n  return (\r\n    <div className={s.NotFound}>\r\n      Sorry, we have not pictures for request : '{request}'\r\n    </div>\r\n  );\r\n}\r\n\r\nNotFound.propTypes = {\r\n  error: PropTypes.string,\r\n};\r\n","import { useEffect, useState } from 'react';\nimport './App.css';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport picsAPI from './components/services/Pixabay-api';\nimport LoaderPics from './components/Loader';\nimport Button from './components/Button/';\nimport Modal from './components/Modal';\nimport NotFound from './components/NotFound';\n\nfunction App() {\n  const [request, setRequest] = useState('');\n  const [pics, setPics] = useState([]);\n  const [picForModal, setpicForModal] = useState('');\n  const [page, setPage] = useState(1);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isError, setIsError] = useState(false);\n  const [showModal, setShowModal] = useState(false);\n\n  useEffect(() => {\n    if (!request) {\n      return;\n    }\n    setPics([]);\n\n    fetchPic(request, 1);\n  }, [request]);\n\n  useEffect(() => {\n    if (!request) {\n      return;\n    }\n    if (page !== 1) {\n      fetchPic(request, page);\n    }\n  }, [page, request]);\n\n  const fetchPic = (request, page) => {\n    setIsError(false);\n    setIsLoading(true);\n    picsAPI\n      .fetchPictures(request, page)\n      .then(res => {\n        setIsLoading(true);\n        if (res.total === 0) {\n          setIsError(true);\n        }\n        return res;\n      })\n      .then(res => {\n        res.hits.map(({ id, webformatURL, largeImageURL }) =>\n          setPics(state => [...state, { id, webformatURL, largeImageURL }]),\n        );\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n      })\n      .catch(error => {\n        setIsError(error);\n      })\n      .finally(setIsLoading(false));\n  };\n\n  const submitData = request => {\n    setRequest(request);\n  };\n  const onPageChange = () => {\n    setPage(state => state + 1);\n  };\n\n  const onModalToggle = () => {\n    setShowModal(!showModal);\n  };\n  const onClickLargeImage = id => {\n    setpicForModal(pics.find(pic => pic.id === id).largeImageURL);\n    onModalToggle();\n  };\n\n  return (\n    <div className=\"App\">\n      <Searchbar onSubmit={submitData} />\n      {request === '' && <div> There will be pictures for you request...</div>}\n      {isError && <NotFound request={request} />}\n      <div>\n        {pics.length !== 0 && (\n          <ImageGallery\n            tag={request}\n            onClickForModal={onClickLargeImage}\n            pics={pics}\n          />\n        )}\n        {isLoading && <LoaderPics />}\n        {pics.length >= 12 && <Button onClick={onPageChange} />}\n      </div>\n      {showModal && (\n        <Modal pic={picForModal} tag={request} onClose={onModalToggle} />\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}