(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{11:function(e,t,n){e.exports={NotFound:"NotFound_NotFound__2Z99t"}},19:function(e,t,n){},20:function(e,t,n){},23:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(5),o=n.n(a),i=(n(19),n(13)),u=n(3),s=(n(20),n(2)),l=n.n(s),j=(n(23),n(1));function b(e){var t=e.onSubmit,n=Object(c.useState)(""),r=Object(u.a)(n,2),a=r[0],o=r[1];return Object(j.jsx)("header",{className:"Searchbar",children:Object(j.jsxs)("form",{className:"SearchForm",onSubmit:function(e){e.preventDefault(),t(a)},children:[Object(j.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(j.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(j.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:a,onChange:function(e){o(e.currentTarget.value.toLowerCase())}})]})})}b.propsType={onSubmit:l.a.func.isRequired};var f=b;function d(e){var t=e.id,n=e.tag,c=e.pic,r=e.onClick;return Object(j.jsx)("li",{className:"ImageGalleryItem",children:Object(j.jsx)("img",{id:t,src:c,alt:n,className:"ImageGalleryItem-image",onClick:function(){return r(t)}})})}d.propsType={webformatURL:l.a.string.isRequired,tags:l.a.string.isRequired,key:l.a.number.isRequired,onClick:l.a.func.isRequired};var m=function(e){var t=e.pics,n=e.tag,c=e.onClickForModal;return Object(j.jsx)("ul",{className:"ImageGallery",children:t.map((function(e){var t=e.id,r=e.webformatURL;return Object(j.jsx)(d,{id:t,tag:n,pic:r,onClick:c},t)}))})};m.propsType={request:l.a.string.isRequired,id:l.a.arrayOf(l.a.number.isRequired),webformatURL:l.a.arrayOf(l.a.string.isRequired),onClick:l.a.func.isRequired};var O=m;var h={fetchPictures:function(e,t){return fetch("https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=23343494-643d22eb41994b430f7c237c0&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.json()}))}},p=n(8),g=n(9),v=n(14),x=n(12),y=n(10),S=n.n(y),w=(n(43),function(e){Object(v.a)(n,e);var t=Object(x.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(g.a)(n,[{key:"render",value:function(){return Object(j.jsx)(S.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3})}}]),n}(c.Component)),k=function(e){var t=e.onClick;return Object(j.jsx)("button",{type:"button",className:"Button",onClick:t,children:"Load more"})},C=document.querySelector("#modal-root");function N(e){var t=e.pic,n=e.tag,r=e.onClose;Object(c.useEffect)((function(){return window.addEventListener("keydown",o),function(){window.removeEventListener("keydown",o)}}));var o=function(e){"Escape"===e.code&&r()};return Object(a.createPortal)(Object(j.jsx)("div",{className:"Overlay",onClick:function(e){e.currentTarget===e.target&&r()},children:Object(j.jsx)("div",{className:"Modal",children:Object(j.jsx)("img",{src:t,alt:n})})}),C)}var R=n(11),q=n.n(R);function F(e){var t=e.request;return Object(j.jsxs)("div",{className:q.a.NotFound,children:["Sorry, we have not pictures for request : '",t,"'"]})}var L=function(){var e=Object(c.useState)(""),t=Object(u.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)([]),o=Object(u.a)(a,2),s=o[0],l=o[1],b=Object(c.useState)(""),d=Object(u.a)(b,2),m=d[0],p=d[1],g=Object(c.useState)(1),v=Object(u.a)(g,2),x=v[0],y=v[1],S=Object(c.useState)(!1),C=Object(u.a)(S,2),R=C[0],q=C[1],L=Object(c.useState)(!1),I=Object(u.a)(L,2),E=I[0],U=I[1],T=Object(c.useState)(!1),_=Object(u.a)(T,2),M=_[0],P=_[1];Object(c.useEffect)((function(){n&&(l([]),B(n,1))}),[n]),Object(c.useEffect)((function(){n&&1!==x&&B(n,x)}),[x,n]);var B=function(e,t){U(!1),q(!0),h.fetchPictures(e,t).then((function(e){return q(!0),0===e.total&&U(!0),e})).then((function(e){e.hits.map((function(e){var t=e.id,n=e.webformatURL,c=e.largeImageURL;return l((function(e){return[].concat(Object(i.a)(e),[{id:t,webformatURL:n,largeImageURL:c}])}))})),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).catch((function(e){U(e)})).finally(q(!1))},G=function(){P(!M)};return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(f,{onSubmit:function(e){r(e)}}),""===n&&Object(j.jsx)("div",{children:" There will be pictures for you request..."}),E&&Object(j.jsx)(F,{request:n}),Object(j.jsxs)("div",{children:[0!==s.length&&Object(j.jsx)(O,{tag:n,onClickForModal:function(e){p(s.find((function(t){return t.id===e})).largeImageURL),G()},pics:s}),R&&Object(j.jsx)(w,{}),s.length>=12&&Object(j.jsx)(k,{onClick:function(){y((function(e){return e+1}))}})]}),M&&Object(j.jsx)(N,{pic:m,tag:n,onClose:G})]})};o.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(L,{})}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.f6c37906.chunk.js.map